<odoo>

    <record id="view_account_analytic_account_search_inherit" model="ir.ui.view">
        <field name="name">account.analytic.account.search</field>
        <field name="model">account.analytic.account</field>
        <field name="inherit_id" ref="analytic.view_account_analytic_account_search" />
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='inactive']" position="after">
                <filter
                    string="Farm Plan Account"
                    name="farm_plan_account"
                    domain="[('plan_id', 'child_of', [%(wi_base_farm.analytic_plan_activities)d, %(wi_base_farm.analytic_plan_block)d])]"
                />
            </xpath>
        </field>
    </record>

    <record id="action_account_analytic_account_form" model="ir.actions.act_window">
        <field name="name">Analytic Accounts</field>
        <field name="res_model">account.analytic.account</field>
        <field
            name="search_view_id"
            ref="analytic.view_account_analytic_account_search"
        />
        <field
            name="context"
        >{'search_default_active':1,'search_default_farm_plan_account':1}</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Add a new analytic account
            </p>
        </field>
    </record>

    <record id="account_analytic_plan_form_view_inherit_farm" model="ir.ui.view">
        <field name="name">account.analytic.plan.form.inherit.farm</field>
        <field name="model">account.analytic.plan</field>
        <field name="inherit_id" ref="analytic.account_analytic_plan_form_view" />
        <field name="arch" type="xml">
            <xpath expr="//group/group[2]" position="inside">
                <field name="operation_type_id" invisible="not parent_id" />
            </xpath>
        </field>
    </record>

    <record id="view_analytic_account_form_inherit" model="ir.ui.view">
        <field name="name">analytic.account.form.inherit.uom</field>
        <field name="model">account.analytic.account</field>
        <field name="inherit_id" ref="analytic.view_account_analytic_account_form" />
        <field name="priority" eval="20" />
        <field name="arch" type="xml">
          <xpath expr="//group[@name='main']/group" position="inside">

                <field name="operation_type_id" invisible="True" />
                <field name="uom_id" invisible="not operation_type_id" />
            </xpath>
        </field>
    </record>

</odoo>
