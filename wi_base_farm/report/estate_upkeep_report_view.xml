<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="estate_upkeep_report_view_tree" model="ir.ui.view">
        <field name="name">estate.upkeep.labour.report.view.tree</field>
        <field name="model">estate.upkeep.labour</field>
        <field name="arch" type="xml">
            <list
                name="Upkeep Analysis"
                decoration-danger="not checkout"
                decoration-success="checkout"
            >
                <field name="name" />
                <field name="estate_operation_id" optional="hide" />
                <field name="operation_date" optional="show" />
                <field name="afdeling_id" optional="show" />
                <field name="member_id" optional="show" />
                <field name="location_id" optional="show" />
                <field name="account_activity_id" optional="show" />
                <field name="quantity" sum="Total" optional="show" />
                <field name="uom_id" groups="uom.group_uom" optional="hide" />
                <field name="num_of_days" optional="show" />
                <field name="price_amount" sum="Total" optional="show" />
                <field
                    name="calculation"
                    widget="badge"
                    decoration-success="calculation == 'daily_salary'"
                    decoration-info="calculation == 'premi'"
                    optional="hide"
                />
                <field name="total_amount" sum="Total" optional="show" />
                <field name="currency_id" column_invisible="1" />
                <field name="checkout" optional="hide" />
                <field
                    name="company_id"
                    groups="base.group_multi_company"
                    optional="hide"
                />
            </list>
        </field>
    </record>

    <record id="estate_upkeep_view_pivot" model="ir.ui.view">
        <field name="name">estate.upkeep.labour.view.pivot</field>
        <field name="model">estate.upkeep.labour</field>
        <field name="arch" type="xml">
            <pivot string="Upkeep Analysis" disable_linking="true">
                <field name="afdeling_id" type="row" />
                <field name="operation_date" interval="month" />
                <field name="member_id" type="row" />
                <field name="quantity" type="measure" />
                <field name="num_of_days" type="measure" />
                <field name="price_amount" type="measure" />
                <field name="total_amount" type="measure" />
            </pivot>
        </field>
    </record>

    <record id="estate_upkeep_view_graph" model="ir.ui.view">
        <field name="name">estate.upkeep.labour.view.graph</field>
        <field name="model">estate.upkeep.labour</field>
        <field name="arch" type="xml">
            <graph string="Upkeep Analysis" type="bar" stacked="0">
                <field name="afdeling_id" type="row" />
                <field name="total_amount" type="measure" />
            </graph>
        </field>
    </record>

    <record id="upkeeping_report_action" model="ir.actions.act_window">
        <field name="name">Upkeeping Report</field>
        <field name="res_model">estate.upkeep.labour</field>
        <field name="search_view_id" ref="wi_base_farm.estate_upkeep_view_search" />
        <field
            name="context"
        >{'create': False, 'edit': False, 'search_default_group_by_operation_date': 1, 'search_default_group_by_location_id': 1, 'search_default_group_by_member_id': 1}</field>
        <field name="domain">[('state', 'in', ('posted', 'done'))]</field>
    </record>

    <record id="upkeeping_report_action_tree_view" model="ir.actions.act_window.view">
        <field name="sequence" eval="1" />
        <field name="view_mode">list</field>
        <field name="view_id" ref="estate_upkeep_report_view_tree" />
        <field name="act_window_id" ref="upkeeping_report_action" />
    </record>

    <record id="upkeeping_report_action_graph_view" model="ir.actions.act_window.view">
        <field name="sequence" eval="2" />
        <field name="view_mode">graph</field>
        <field name="view_id" ref="estate_upkeep_view_graph" />
        <field name="act_window_id" ref="upkeeping_report_action" />
    </record>

    <record id="upkeeping_report_action_pivot_view" model="ir.actions.act_window.view">
        <field name="sequence" eval="3" />
        <field name="view_mode">pivot</field>
        <field name="view_id" ref="estate_upkeep_view_pivot" />
        <field name="act_window_id" ref="upkeeping_report_action" />
    </record>

</odoo>
